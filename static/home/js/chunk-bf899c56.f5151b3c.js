(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf899c56"],{"1a33":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Search",{attrs:{placeholder:"请输入搜索词",sendSearchWord:t.receiveSearchWord},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),o("ul",{staticClass:"reorder"},[t._l(t.reorder,function(e){return o("li",{key:e.id},[o("span",{staticClass:"title"},[t._v(t._s(e.title))]),o("span",{staticClass:"down_arrow",on:{touchend:function(o){return t.chooseSortWay(e.id)}}})])}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.touchedSortWay,expression:"touchedSortWay"}],staticClass:"sort_way"},[o("div",{staticClass:"sort_way_inner"},[o("div",{on:{click:t.descendingSort}},[t._v(t._s(t.sortKeywords[0]))]),o("div",{on:{click:t.ascendingSort}},[t._v(t._s(t.sortKeywords[1]))])])])],2),o("ul",{staticClass:"goods_list"},t._l(t.Corresponding_goods,function(e){return o("router-link",{key:e._id,staticClass:"goods_outter",attrs:{tag:"li",to:"/detail/"+e._id}},[o("div",{staticClass:"goods"},[o("img",{attrs:{src:e.img,alt:""}}),o("div",[o("h2",[t._v(t._s(e.title))]),o("p",[o("span",[t._v(t._s(e.price)+"元")]),o("span",[t._v("门市价："+t._s(e.originPrice)+"元")]),o("span",[t._v("销量"+t._s(e.sales))])])])])])}),1),o("p",{directives:[{name:"show",rawName:"v-show",value:t.hidden_goods.length,expression:"hidden_goods.length"}],staticClass:"hidden_goods",on:{touchend:t.showHiddenGoods}},[t._v("\n    查看其他"+t._s(t.hidden_goods.length)+"条数据\n    "),o("span")])],1)},a=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"input_outter"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.searchValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputSearchWord(e)},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})])},r=[],n={props:["value","placeholder","sendSearchWord"],data:function(){return{searchValue:""}},methods:{inputSearchWord:function(){this.sendSearchWord(this.searchValue)}}},d=n,c=(o("e589"),o("2877")),l=Object(c["a"])(d,i,r,!1,null,null,null),u=l.exports,h={components:{Search:u,Commodity:u},data:function(){return{title:"list页面",fakeSearchWord:"",reorder:[{id:"price",title:"价格排序"},{id:"sales",title:"销量排序"},{id:"evaluate",title:"好评排序"},{id:"discount",title:"优惠排序"}],Corresponding_goods:[],hidden_goods:[],allGoodsList:[],sortKeywords:["从高到低","从低到高"],touchedSortWay:!1,sortId:""}},methods:{receiveSearchWord:function(t){var e=this;this.fakeSearchWord=t,this.$http.get("/data/search",{params:{type:this.$route.params.id,searchvalue:this.fakeSearchWord}}).then(function(t){var o=t.data;e.allGoodsList=o,e.Corresponding_goods=o.slice(0,3),e.hidden_goods=o.slice(3),console.log(e.Corresponding_goods)}),this.$store.commit("updateSearchWord",t)},getRequestData:function(){var t=this,e=this.$route.params;this.$http.get("/data/list",{params:e}).then(function(e){var o=e.data;console.log(251,o),t.allGoodsList=o.data,t.Corresponding_goods=o.data.slice(0,3),t.hidden_goods=o.data.slice(3)}).catch(function(t){return console.log(t)})},getSortData:function(t){var e=this;this.$http.get("/data/sort",{params:{type:this.$route.params.id,id:this.sortId,sort_way:t}}).then(function(t){var o=t.data;console.log(278,o),e.allGoodsList=o,e.Corresponding_goods=e.allGoodsList})},showHiddenGoods:function(){this.Corresponding_goods=this.allGoodsList,this.hidden_goods=[]},chooseSortWay:function(t){this.sortId=t,this.touchedSortWay=!this.touchedSortWay,this.sortKeywords="evaluate"===t||"sales"===t?["从多到少","从少到多"]:"discount"===t?["从大到小","从小到大"]:["从高到低","从低到高"]},descendingSort:function(){this.getSortData("descend"),this.touchedSortWay=!1},ascendingSort:function(){this.getSortData("ascend"),this.touchedSortWay=!1}},created:function(){this.getRequestData()},watch:{$route:function(){this.getRequestData()}}},p=h,g=(o("abcb"),Object(c["a"])(p,s,a,!1,null,null,null));e["default"]=g.exports},"244e":function(t,e,o){},"345e":function(t,e,o){},abcb:function(t,e,o){"use strict";var s=o("345e"),a=o.n(s);a.a},e589:function(t,e,o){"use strict";var s=o("244e"),a=o.n(s);a.a}}]);
//# sourceMappingURL=chunk-bf899c56.f5151b3c.js.map